(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e59256a"],{"0259":function(e,t,s){},"0bf5":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{staticClass:"photo"},["undefined"!==typeof this.user.id?s("router-link",{staticClass:"link",attrs:{to:{name:"OtherUser",params:{id:this.user.id}}}},[s("img",{attrs:{src:e.user.avatar,alt:""}})]):e._e()],1),s("div",{staticClass:"UserAccount"},["undefined"!==typeof this.user.id?s("router-link",{staticClass:"name",attrs:{to:{name:"OtherUser",params:{id:this.user.id}}}},[e._v(" "+e._s(e._f("ellipsis")(e.user.name))+" ")]):e._e(),s("label",{staticClass:"account"},[e._v("@"+e._s(e._f("ellipsis")(e.user.account)))])],1),s("div",[e.user.isFollowing?s("button",{staticClass:"followingBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unFollow(e.user.id)}}},[e._v(" 正在跟隨 ")]):s("button",{attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollow(e.user.id)}}},[e._v(" 跟隨 ")])])])},n=[],a=s("5530"),i=s("1da1"),o=(s("96cf"),s("fb6a"),s("d9e2"),s("4cce")),c=s("2fa3"),l={props:{initialUser:{type:Object,required:!0}},data:function(){return{user:this.initialUser,isProcessing:!1}},filters:{ellipsis:function(e){return e?e.length>15?e.slice(0,15)+"...":e:""}},methods:{addFollow:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,o["a"].addFollow({id:e});case 4:if(r=s.sent,n=r.data,"success"===n.status){s.next=8;break}throw new Error(n.message);case 8:t.user=Object(a["a"])(Object(a["a"])({},t.user),{},{isFollowing:!0}),t.isProcessing=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),t.isProcessing=!1,c["a"].fire({icon:"error",title:"請稍後再試"});case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))()},unFollow:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,o["a"].unFollow({userId:e});case 4:if(r=s.sent,n=r.data,"success"===n.status){s.next=8;break}throw new Error(n.message);case 8:t.user=Object(a["a"])(Object(a["a"])({},t.user),{},{isFollowing:!1}),t.isProcessing=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](0),t.isProcessing=!1,c["a"].fire({icon:"error",title:"請稍後再試"});case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))()}}},u=l,d=(s("7f7e"),s("2877")),f=Object(d["a"])(u,r,n,!1,null,"4cf46a8c",null);t["a"]=f.exports},2375:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"bouncing-loader"},[s("div"),s("div"),s("div")])])}],a=(s("b36b"),s("2877")),i={},o=Object(a["a"])(i,r,n,!1,null,"162d61b1",null);t["a"]=o.exports},"39fd":function(e,t,s){"use strict";s("6db0")},5969:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"follow-container"},[s("NavBar"),s("TweetModal"),e.isLoading?s("Spinner"):[s("div",{staticClass:"main"},[s("FollowerListHeader",{attrs:{"initial-user":e.user}}),s("div",[s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item"},["undefined"!==typeof this.userId?s("router-link",{staticClass:"nav-link",attrs:{to:{name:"followerList",params:{id:this.userId}}}},[e._v("跟隨者")]):e._e()],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link at"},[e._v("正在跟隨")])])])]),s("div",{staticClass:"UserFollow"},[e._l(e.followings,(function(e){return s("UserFollowing",{key:e.id,attrs:{"initial-following":e}})})),e.followings.length<1?s("div",{staticClass:"substitute"},[e._v(" 目前尚無跟隨中 ")]):e._e()],2)],1),s("div",{staticClass:"PopularUser"},[s("h3",[e._v("Popular")]),e._l(e.users,(function(e){return s("PopularUser",{key:e.id,attrs:{"initial-user":e}})}))],2)]],2)},n=[],a=s("1da1"),i=(s("96cf"),s("d9e2"),s("d000")),o=s("0bf5"),c=s("d0fc"),l=s("4287"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"following"},[s("div",{staticClass:"UserPhoto"},[s("img",{attrs:{src:e.following.avatar,alt:""}})]),s("div",{staticClass:"TweetsContent"},[s("div",{staticClass:"TweetsContent-top"},[s("div",{staticClass:"UserAccount"},[s("label",{staticClass:"name"},[e._v(e._s(e.following.name))]),s("label",{staticClass:"account"},[e._v("@"+e._s(e.following.account))])]),s("div",{staticClass:"btn"},[e.following.isFollowed?s("button",{staticClass:"followingBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unFollow(e.following.id)}}},[e._v(" 正在跟隨 ")]):s("button",{attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollow(e.following.id)}}},[e._v(" 跟隨 ")])])]),s("div",{staticClass:"article"},[s("p",[e._v(" "+e._s(e.following.introduction)+" ")])])])])},d=[],f=s("5530"),v=s("4cce"),w={props:{initialFollowing:{type:Object,required:!0}},data:function(){return{following:this.initialFollowing,isProcessing:!1}},methods:{addFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,v["a"].addFollow({id:e});case 4:if(r=s.sent,n=r.data,"success"===n.status){s.next=8;break}throw new Error(n.message);case 8:t.following=Object(f["a"])(Object(f["a"])({},t.following),{},{isFollowed:!0}),t.isProcessing=!1,s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),t.isProcessing=!1;case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()},unFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isProcessing=!0,s.next=4,v["a"].unFollow({userId:e});case 4:if(r=s.sent,n=r.data,"success"===n.status){s.next=8;break}throw new Error(n.message);case 8:t.following=Object(f["a"])(Object(f["a"])({},t.following),{},{isFollowed:!1}),t.isProcessing=!1,s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](0),t.isProcessing=!1;case 15:case"end":return s.stop()}}),s,null,[[0,12]])})))()}}},p=w,g=(s("e603"),s("2877")),h=Object(g["a"])(p,u,d,!1,null,"45b2d261",null),b=h.exports,m=s("2375"),A={components:{NavBar:i["a"],PopularUser:o["a"],TweetModal:l["a"],FollowerListHeader:c["a"],UserFollowing:b,Spinner:m["a"]},data:function(){return{user:[],users:[],followings:[],userId:"",isLoading:!0}},created:function(){this.fetchPopularUsers();var e=this.$route.params.id;this.fetchUser(e),this.fetchFollowing(e),this.userId=this.$route.params.id},beforeRouteUpdate:function(e,t,s){var r=e.params.id;this.fetchUser(r),this.fetchFollowing(r),this.userId=r,s()},methods:{fetchUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,v["a"].getUser({userId:e});case 3:if(r=s.sent,"OK"===r.statusText){s.next=6;break}throw new Error(r.statusText);case 6:t.user=r.data.data.user,t.isLoading=!1,s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),t.isLoading=!1,console.log("error");case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()},fetchPopularUsers:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v["a"].getPopular();case 3:if(s=t.sent,"OK"===s.statusText){t.next=6;break}throw new Error(s.statusText);case 6:e.users=s.data.data.users,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchFollowing:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,v["a"].getFollowings({userId:e});case 3:if(r=s.sent,"OK"===r.statusText){s.next=6;break}throw new Error(r.statusText);case 6:t.followings=r.data.data.users,s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](0),console.log("error");case 12:case"end":return s.stop()}}),s,null,[[0,9]])})))()}}},C=A,x=(s("39fd"),Object(g["a"])(C,r,n,!1,null,"08807cf8",null));t["default"]=x.exports},"6db0":function(e,t,s){},"7f7e":function(e,t,s){"use strict";s("e8e1")},"858b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC"},"8e8f":function(e,t,s){},a85b:function(e,t,s){"use strict";s("e4b2")},b36b:function(e,t,s){"use strict";s("8e8f")},d0fc:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{lass:"Follower"}},[r("div",{staticClass:"header"},[r("label",{staticClass:"return",attrs:{for:"return-btn"}},[r("img",{attrs:{src:s("858b"),alt:""}}),r("button",{attrs:{type:"button",id:"return-btn"},on:{click:function(t){return e.$router.back()}}})]),r("div",{staticClass:"account"},[r("label",{staticClass:"name"},[e._v(e._s(e.initialUser.name))]),r("label",{staticClass:"tweets"},[e._v(e._s(e.initialUser.tweetCount)+"推文")])])])])},n=[],a={props:{initialUser:{type:[Array,Object],required:!0}}},i=a,o=(s("a85b"),s("2877")),c=Object(o["a"])(i,r,n,!1,null,"7e9700f3",null);t["a"]=c.exports},e4b2:function(e,t,s){},e603:function(e,t,s){"use strict";s("0259")},e8e1:function(e,t,s){},fb6a:function(e,t,s){"use strict";var r=s("23e7"),n=s("da84"),a=s("e8b5"),i=s("68ee"),o=s("861d"),c=s("23cb"),l=s("07fa"),u=s("fc6a"),d=s("8418"),f=s("b622"),v=s("1dde"),w=s("f36a"),p=v("slice"),g=f("species"),h=n.Array,b=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var s,r,n,f=u(this),v=l(f),p=c(e,v),m=c(void 0===t?v:t,v);if(a(f)&&(s=f.constructor,i(s)&&(s===h||a(s.prototype))?s=void 0:o(s)&&(s=s[g],null===s&&(s=void 0)),s===h||void 0===s))return w(f,p,m);for(r=new(void 0===s?h:s)(b(m-p,0)),n=0;p<m;p++,n++)p in f&&d(r,n,f[p]);return r.length=n,r}})}}]);
//# sourceMappingURL=chunk-1e59256a.05bfb843.js.map