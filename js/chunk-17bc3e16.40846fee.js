(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17bc3e16"],{"0bf5":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[a("div",{staticClass:"photo"},["undefined"!==typeof this.user.id?a("router-link",{staticClass:"link",attrs:{to:{name:"OtherUser",params:{id:this.user.id}}}},[a("img",{attrs:{src:e.user.avatar,alt:""}})]):e._e()],1),a("div",{staticClass:"UserAccount"},["undefined"!==typeof this.user.id?a("router-link",{staticClass:"name",attrs:{to:{name:"OtherUser",params:{id:this.user.id}}}},[e._v(" "+e._s(e._f("ellipsis")(e.user.name))+" ")]):e._e(),a("label",{staticClass:"account"},[e._v("@"+e._s(e._f("ellipsis")(e.user.account)))])],1),a("div",[e.user.isFollowing?a("button",{staticClass:"followingBtn",attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unFollow(e.user.id)}}},[e._v(" 正在跟隨 ")]):a("button",{attrs:{disabled:e.isProcessing},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollow(e.user.id)}}},[e._v(" 跟隨 ")])])])},s=[],i=a("5530"),n=a("1da1"),c=(a("96cf"),a("fb6a"),a("d9e2"),a("4cce")),o=a("2fa3"),u={props:{initialUser:{type:Object,required:!0}},data:function(){return{user:this.initialUser,isProcessing:!1}},filters:{ellipsis:function(e){return e?e.length>15?e.slice(0,15)+"...":e:""}},methods:{addFollow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,a.next=4,c["a"].addFollow({id:e});case 4:if(r=a.sent,s=r.data,"success"===s.status){a.next=8;break}throw new Error(s.message);case 8:t.user=Object(i["a"])(Object(i["a"])({},t.user),{},{isFollowing:!0}),t.isProcessing=!1,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),t.isProcessing=!1,o["a"].fire({icon:"error",title:"請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},unFollow:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,a.next=4,c["a"].unFollow({userId:e});case 4:if(r=a.sent,s=r.data,"success"===s.status){a.next=8;break}throw new Error(s.message);case 8:t.user=Object(i["a"])(Object(i["a"])({},t.user),{},{isFollowing:!1}),t.isProcessing=!1,a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](0),t.isProcessing=!1,o["a"].fire({icon:"error",title:"請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()}}},l=u,d=(a("7f7e"),a("2877")),p=Object(d["a"])(l,r,s,!1,null,"4cf46a8c",null);t["a"]=p.exports},"128c":function(e,t,a){"use strict";a("bf17")},2375:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],i=(a("b36b"),a("2877")),n={},c=Object(i["a"])(n,r,s,!1,null,"162d61b1",null);t["a"]=c.exports},2797:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(e.content)}}},[a("div",{staticClass:"modal fade",attrs:{id:"reply-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body",attrs:{id:"reply-modal-body"}},[a("div",{staticClass:"TimeLine"},[a("div",{staticClass:"Usertweet"},[a("div",{staticClass:"UserPhoto"},[e.initialData.User&&e.initialData.User.avatar?a("img",{attrs:{src:e.initialData.User.avatar}}):e._e(),a("p",{staticClass:"line"})]),a("div",{staticClass:"TweetsContent"},[a("div",{staticClass:"UserAccount"},[e.initialData.User&&e.initialData.User.name?a("label",{staticClass:"name"},[e._v(e._s(e.initialData.User.name))]):e._e(),e.initialData.User&&e.initialData.User.account?a("label",{staticClass:"account"},[e._v("@"+e._s(e.initialData.User.account))]):e._e(),a("span",[e._v("・")]),a("label",{staticClass:"time"},[e._v(e._s(e._f("fromNow")(e.initialData.createdAt)))])]),a("div",{staticClass:"article"},[a("p",{staticClass:"content"},[e._v(" "+e._s(e.getData?e.initialData.description:"")+" ")]),a("div",{staticClass:"replyTo"},[a("span",[e._v("回覆給 ")]),e.initialData.User&&e.initialData.User.name?a("span",{staticClass:"user"},[e._v("@"+e._s(e.initialData.User.name))]):e._e()])])])])]),a("div",{staticClass:"replyContainer"},[a("div",{staticClass:"face"},[a("img",{attrs:{src:[e.getData?e.initialUser.avatar:"https://i.imgur.com/zYddUs8.png"],alt:""}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"form-control input",staticStyle:{width:"700px",height:"160px"},attrs:{id:"data",rows:"7",cols:"20",placeholder:"推你的回覆",required:"",autofocus:""},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn-primary",attrs:{disabled:e.isProcessing,type:"submit"}},[e._v(" 回覆 ")])])])])])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("img",{staticClass:"cross",attrs:{"aria-label":"Close",id:"replyClose",src:a("966c"),"data-bs-dismiss":"modal",type:"button"}})])}],i=a("1da1"),n=(a("96cf"),a("498a"),a("d9e2"),a("2708")),c=a("4cce"),o=a("2fa3"),u={props:{initialData:{type:[Array,Object],required:!0},initialUser:{type:[Array,Object],required:!0}},data:function(){return{isProcessing:!1,getData:!1,content:""}},beforeUpdate:function(){this.getData=!0},mixins:[n["a"]],methods:{handleSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.isProcessing=!0,""!==t.content.trim()){a.next=7;break}return o["a"].fire({icon:"error",title:"請輸入內容"}),a.abrupt("return");case 7:if(!(t.content.length>140)){a.next=10;break}return o["a"].fire({icon:"error",title:"字數不可超過 140 字"}),a.abrupt("return");case 10:return a.next=12,c["a"].replyTweet({tweetId:t.initialData.id,comment:e});case 12:if(r=a.sent,s=r.data,"success"===s.status){a.next=16;break}throw new Error(s.message);case 16:t.$store.commit("createReply",s),t.content="",t.isProcessing=!1,o["a"].fire({icon:"success",title:"成功發送回覆！"}),document.getElementById("replyClose").click(),a.next=27;break;case 23:a.prev=23,a.t0=a["catch"](0),t.isProcessing=!1,o["a"].fire({icon:"error",title:"請稍後再試"});case 27:case"end":return a.stop()}}),a,null,[[0,23]])})))()}}},l=u,d=(a("71e5"),a("2877")),p=Object(d["a"])(l,r,s,!1,null,"4acb883c",null);t["a"]=p.exports},5412:function(e,t,a){"use strict";a("ce11")},"6bfe":function(e,t,a){},"71e5":function(e,t,a){"use strict";a("6bfe")},"7f7e":function(e,t,a){"use strict";a("e8e1")},8158:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgB7VZBbtpQEJ2xCaCyqHsD5wQlNyA3aE4QIwHqLiC1gIgiHNEGSheBXQSRCidobhCOQE9Q36AsA9iezrcBgWNiY1A3zZPAxozn/Zn/580A/G/AsIZaUVeSAIoZk1W//2OmZdx1dANCAoPI4vHEBSFl+GcGwmEENg373y8HEIU496mRQTn2A4DUxSODP2N+ZeJnT2zHztJ8q6zsbTrjBYxDE+fKzToi6QuTAaE5vG9djSAEctVGBmxZQ4Rz520JtF6zNgwkzn/+qoGEHClMAKnUb72csq0LKH8pIkq34p7QOvUufINYqzbVI4JHkV4k66zXvnqAPZCvchDkBGHMp7OTQUdfbZO0bsikdXdPcbAvqYDIFkcm/Kjx+FFx/T/JY5sRXzJOr+FAIJscX4R47kvMe5tenODRXSt8PQbBOdUkqgFUUZ7PiG201cUaf8GBQQCOz1hSTj8jJpIU9woT+Afw7jFw/SlwYLDPt7CNWHZUyTF7D4cGgSou5pO1UrGNOs5Xbv7wReGae7dec/vA1Qb6zbfj/rfayfL5RqqJqCuu8USyDgeCqw0MdH37EpuzeQcBDQK7WGC9hj1RKDc+cDgap9VIPc03BMlPq9Os1SyboCChPptNu1HSrrGfGPtB0a2Qsl7N9+1Oghwl6Se5gmKw2Ygsc8iiP5Hn80lQw89XWhecNV2Qcpe77rUuda/N1n78kQ+FaZO+bG8ejPignHofOoNDIl5nwXB0mTWhdN+udfz8B44+YgEW2BkuiTRxqaGr5wYTH6/brQ8OYk9ttLIv9fDQM9cSXHK0TuyNkom7qelc7wScixjsgWWUi7Mw4R6eDdtOJYiIQuXmFmX50e1o0kNqOjvepYdHjVgVqRV7CWSVeu3azkND5IjFXr7hcSbqpLJ7xCwGXKNG2KnzFUv8Bd/pIgHn2FQDAAAAAElFTkSuQmCC"},"8e8f":function(e,t,a){},"980e":function(e,t,a){"use strict";a("c155")},"9f33":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMISURBVHgB7ZlRbtpAEEBn1pCvKuUGsRXyH05QOEHpX1WllKgHSDlB4ARJT1BCoqp/5QZxT9D8B4T56W/9HcDTWacIYq/N2hjiSDwJIYb1emY8s7szBtixY8eLBpMMHpn1EhReHfNl8lPyhUQOzCa25fxwEkzFc703oVisAqG5kHq2NbixIQFaBkjFRWH/jAC+8M+SehTZRHBlDa+7sXOVT6oIeM63rkYMcRGp700mHR2nrDRgfNj4RAiXEKl4YEKkrjcxWpbTdZflvhOM1xeE1NSZBwgcAuqsckisAeNy45y93oakyJvPHmpzD8pwQWPvlu9mQkJYwfbBoNeJ+V/N+KhxxiFxCWnxjRAVjghAY/93GuUXU1HLGlwrdVEa4HussDeCtaE+EriE2IT1cGn6UFHlREE1WhhFGToZgHVKtM5FUsJC8Rt/10J3CAqy8372EHi14DIrgoOk9yGvkKgHRSEDOF6PIacgwpugTCjG5dYAUOj2xICR2TQh5/yxPh8s/xbwwgmtQk65kc0KuiHMQe+JzuEnwDso5Bc3KAgbgHw8zi10F5SEl1HAX5BTVLopktizIbeEdVOeVDiR/4Lm+X9rcG6aw54VFAv1WPgKOQMF2iq5eh+YivR1wIbwJqgsapQGPJaDZENOQMQu6+So/ovciWlqnEJOiPK+JNIAaTGXlM+eC3Hel8SfhWaiDYrdb2vwyhPnfUmsATIXuA3SgmfCb6vEeF+iVbE65Y8/ZX0LW0SGzsH91co81DpO+wm9zUOeRujM0e4ZjI4+HCMVbmHzOzS3UERlVejM0S5orPvvd0Sbzwci71RXeUmiikz2KfmYofVo0yDntoY3/STXpGo7jcqNNl+YafvFV37Qa0NCUvfNsjQirfKStRp/WRgR17jVYe3O5ejwpI4gLlJ0n11uFb5L+kYmSCatV9lPQsNL0P/ntzm8tyRZbaLIpnf8H42Qcv3jwRohEyRTAyR+d8/w2tzHfAuLTc/1qzwulIKvntYlcwOWkS/0AD0XJntO1orv2LHjkX833CXiXlBIlQAAAABJRU5ErkJggg=="},b36b:function(e,t,a){"use strict";a("8e8f")},be0e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMgSURBVHgB7VbNThNRFD7nTmdqDIvyBvUJKBvjxkgT95alK2ssxh0lUSwY0jYEKbig7AhgKDt34M6VLYlr0zdwfAK7pDN0jufMTzP9mdJKQ1zwJZP5uXe+755z7/nuBbjDLQGjGrL5UkLpeiamcE7eHYLfV8o6r1VKZlT/mGFkNcQ5Amp1qHPxeXfjfCLh16ubGQe1E25MDPmlZrfbK7VqqRUIGnGjSAD5IVQmj7h89OlD7Vrh3Op2EZFKgUgHnQsFjomkMgjqGUeTFEK7bc3DvXhCJzrj9xRfLULaJ8dpesRaBhFeuM+EpcPdtXKksERKqJ15JJ3F48pGI9z+prCd7DgshK6QtElGUkzSvN+20lU/CwGW3m2lQGFd+jFfOsynwh0JY3vecGilX1RwUFkzbctKA4FEteCLmsNEBZzipgTgUWon4baucO7tJhO5aWwcVQbnJIDMraZwsUuAw0UD+AHIlcwVRKNPGJRyPxLBV7gGEjmH8FKug4hVHkaX09FSwbdYfyeHqAVjYFRWBoShY/Jik6dulSi4BRCpgbLsCrNBmHLXFKRgylAISbmj8jR6hDkRTe/Jc6ppAhGfuA+dQKOvjpfef/zDtwSbw2xtxEqdBFmufTaZX1J2hzvrD4LvvXVMtC93w9DzMCXEiJZ98tPw9x7hK8uugutauCweDDeERIuAGVdI2bVIYUmvH3VCj8f34IbQCYqeKdF+f70PlJNEzaPkTpR9xd4N/wj26axwyNxq6GayB0O3RbE29lYx95aN1nxtDHcKw1tQUHejZXcbZjZDDUT81QE/5WTUJ5nvsChvr+Uoh8NRJFxeEvUCkzTttp2+rsRkgHrckH9SfDBoHO+sp6P6jrRMrudFbwvElB7X69lCKRkpKpH6orI/z8i/IzAyYgiiMJjQ2/xNnvN0/5xnecPXlTpz0xtxKJhYOBDnc9UJp89d5cFRxv1uxJcdpDy6pww4nbm08tUxXG8s4QC5wlaJRYvyzINo+QSy8Lj+oXy8u14dl0uDCfDzx/fGw8dPT3knm+WD3CMWvWTpLxpazw93Nr7BHf5H/AUCuWWkvJxLmwAAAABJRU5ErkJggg=="},bf17:function(e,t,a){},c155:function(e,t,a){},cd56:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("NavBar"),a("TweetModal"),e.isLoading?a("Spinner"):[a("div",{staticClass:"main"},[a("SendTweet"),a("div",{staticClass:"TimeLine"},[e._l(e.tweets,(function(t){return a("TimeLine",{key:t.id,attrs:{"initial-tweet":t},on:{"reply-tweet-data":e.replyTweetData}})})),a("ReplyModal",{attrs:{"initial-data":e.replyTweet,"initial-user":e.user}})],2)],1),a("div",{staticClass:"PopularUser"},[a("h3",[e._v("Popular")]),e._l(e.users,(function(e){return a("PopularUser",{key:e.id,attrs:{"initial-user":e}})}))],2)]],2)},s=[],i=a("1da1"),n=a("5530"),c=(a("96cf"),a("d9e2"),a("a4d3"),a("e01a"),a("b0c0"),a("d000")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(e.content)}}},[a("div",{staticClass:"SendTweet"},[a("h3",[e._v("首頁")]),a("div",{staticClass:"photo"},[a("div",{staticClass:"img"},[a("img",{staticClass:"face",attrs:{src:e.user.avatar,alt:""}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"form-control input",staticStyle:{width:"520px",height:"60px"},attrs:{name:"description",id:"data",rows:"7",cols:"20",placeholder:"有什麼新鮮事？",required:"",autofocus:""},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e.content.length>140?a("span",{staticClass:"warning"},[e._v("字數不可超過 140 字")]):e._e(),a("button",{attrs:{disabled:e.isProcessing,type:"submit"}},[e._v("推文")])])])])},u=[],l=(a("498a"),a("2f62")),d=a("4cce"),p=a("2fa3"),f={data:function(){return{content:"",user:[],avatar:"https://i.imgur.com/zYddUs8.png",isProcessing:!1}},computed:Object(n["a"])({},Object(l["b"])(["currentUser"])),mounted:function(){this.fetchUser()},methods:{handleSubmit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.isProcessing=!0,""!==t.content.trim()){a.next=7;break}return p["a"].fire({icon:"error",title:"請輸入內容"}),a.abrupt("return");case 7:if(!(t.content.length>140)){a.next=10;break}return p["a"].fire({icon:"error",title:"字數不可超過 140 字"}),a.abrupt("return");case 10:return a.next=12,d["a"].sendTweet({description:e});case 12:if(r=a.sent,s=r.data,"success"===s.status){a.next=16;break}throw new Error(s.message);case 16:t.$store.commit("createTweet",s),t.content="",p["a"].fire({icon:"success",title:"成功發送推文！"}),t.isProcessing=!1,a.next=26;break;case 22:a.prev=22,a.t0=a["catch"](0),t.isProcessing=!1,p["a"].fire({icon:"error",title:"請稍後再試"});case 26:case"end":return a.stop()}}),a,null,[[0,22]])})))()},fetchUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getUser({userId:e.currentUser.id});case 3:if(a=t.sent,"OK"===a.statusText){t.next=6;break}throw new Error(a.statusText);case 6:e.user=a.data.data.user,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},w=f,v=(a("5412"),a("2877")),m=Object(v["a"])(w,o,u,!1,null,"e9273394",null),A=m.exports,g=a("4287"),h=a("2797"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"Usertweet"},[r("div",{staticClass:"UserPhoto"},["undefined"!==typeof this.tweet.UserId?r("router-link",{attrs:{to:{name:"OtherUser",params:{id:this.tweet.UserId}}}},[r("img",{attrs:{src:e.tweet.User.avatar,alt:""}})]):e._e()],1),r("div",{staticClass:"TweetsContent"},[r("div",{staticClass:"UserAccount"},["undefined"!==typeof this.tweet.UserId?r("router-link",{staticClass:"name",attrs:{to:{name:"OtherUser",params:{id:this.tweet.UserId}}}},[e._v(" "+e._s(e.tweet.User.name)+" ")]):e._e(),r("label",{staticClass:"account"},[e._v("@"+e._s(e.tweet.User.account))]),r("span",[e._v("・")]),r("label",{staticClass:"time"},[e._v(e._s(e._f("fromNow")(e.tweet.createdAt)))])],1),r("div",{staticClass:"article"},["undefined"!==typeof this.tweet.id?r("router-link",{staticClass:"link",attrs:{to:{name:"replyList",params:{id:this.tweet.id}}}},[r("textarea-autosize",{staticClass:"form-input",staticStyle:{width:"500px",overflow:"hidden"},attrs:{id:"introduction",name:"introduction",maxlength:"160","min-height":20,"max-height":350,autofocus:""},model:{value:e.tweet.description,callback:function(t){e.$set(e.tweet,"description",t)},expression:"tweet.description"}})],1):e._e()],1),r("div",{staticClass:"replyLike"},[r("img",{staticClass:"replyIcon click",attrs:{src:a("8158"),"data-bs-toggle":"modal","data-bs-target":"#reply-modal",alt:""},on:{click:function(t){return e.replyTweetData(e.tweet)}}}),r("label",[e._v(e._s(e.tweet.replyCount))]),e.tweet.isLiked?r("img",{staticClass:"likeIcon click",attrs:{disabled:e.isProcessing,src:a("9f33"),alt:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.unLike(e.tweet.id)}}}):r("img",{staticClass:"click",attrs:{disabled:e.isProcessing,src:a("be0e"),alt:""},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.tweet.id)}}}),r("label",[e._v(e._s(e.tweet.likeCount))])])])])},C=[],x=a("2708"),U={props:{initialTweet:{type:Object,required:!0}},data:function(){return{tweet:this.initialTweet,isProcessing:!1}},mixins:[x["a"]],methods:{addLike:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,a.next=4,d["a"].addLike({tweetId:e});case 4:if(r=a.sent,s=r.data,"success"===s.status){a.next=8;break}throw new Error(s.message);case 8:t.tweet=Object(n["a"])(Object(n["a"])({},t.tweet),{},{isLiked:!0}),t.tweet.likeCount=t.tweet.likeCount+1,t.isProcessing=!1,a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.isProcessing=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},unLike:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,a.next=4,d["a"].unLike({tweetId:e});case 4:if(r=a.sent,s=r.data,"success"===s.status){a.next=8;break}throw new Error(s.message);case 8:t.tweet=Object(n["a"])(Object(n["a"])({},t.tweet),{},{isLiked:!1}),t.tweet.likeCount=t.tweet.likeCount-1,t.isProcessing=!1,a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),t.isProcessing=!1;case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},replyTweetData:function(e){this.$emit("reply-tweet-data",e)}}},k=U,R=(a("128c"),Object(v["a"])(k,b,C,!1,null,"35f5e5f0",null)),D=R.exports,j=a("0bf5"),O=a("2375"),T={components:{NavBar:c["a"],SendTweet:A,TweetModal:g["a"],TimeLine:D,PopularUser:j["a"],ReplyModal:h["a"],Spinner:O["a"]},computed:Object(n["a"])({},Object(l["b"])(["currentUser","tweetCreate"])),watch:{tweetCreate:function(e){this.createTweet(e)}},data:function(){return{tweets:[],users:[],user:[],replyTweet:[],isLoading:!0}},created:function(){this.fetchTweets(),this.fetchPopularUsers(),this.fetchUser()},methods:{fetchTweets:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getTweets();case 3:if(a=t.sent,"OK"===a.statusText){t.next=6;break}throw new Error(a.statusText);case 6:e.tweets=a.data.data.tweets,e.isLoading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),e.isLoading=!1,console.log("error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},fetchPopularUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getPopular();case 3:if(a=t.sent,"OK"===a.statusText){t.next=6;break}throw new Error(a.statusText);case 6:e.users=a.data.data.users,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].getUser({userId:e.currentUser.id});case 3:if(a=t.sent,"OK"===a.statusText){t.next=6;break}throw new Error(a.statusText);case 6:e.user=a.data.data.user,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},createTweet:function(e){console.log(e),this.tweets.unshift({createdAt:e.data.tweet.createdAt,id:e.data.tweet.id,UserId:e.data.tweet.UserId,likeCount:0,replyCount:0,isLiked:!1,description:e.data.tweet.description,User:{account:this.currentUser.account,avatar:this.currentUser.avatar,name:this.currentUser.name}})},replyTweetData:function(e){this.replyTweet=e}}},y=T,P=(a("980e"),Object(v["a"])(y,r,s,!1,null,"43ddb36a",null));t["default"]=P.exports},ce11:function(e,t,a){},e8e1:function(e,t,a){},fb6a:function(e,t,a){"use strict";var r=a("23e7"),s=a("da84"),i=a("e8b5"),n=a("68ee"),c=a("861d"),o=a("23cb"),u=a("07fa"),l=a("fc6a"),d=a("8418"),p=a("b622"),f=a("1dde"),w=a("f36a"),v=f("slice"),m=p("species"),A=s.Array,g=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var a,r,s,p=l(this),f=u(p),v=o(e,f),h=o(void 0===t?f:t,f);if(i(p)&&(a=p.constructor,n(a)&&(a===A||i(a.prototype))?a=void 0:c(a)&&(a=a[m],null===a&&(a=void 0)),a===A||void 0===a))return w(p,v,h);for(r=new(void 0===a?A:a)(g(h-v,0)),s=0;v<h;v++,s++)v in p&&d(r,s,p[v]);return r.length=s,r}})}}]);
//# sourceMappingURL=chunk-17bc3e16.40846fee.js.map